<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>blackmiaool-背单词</title>
    <script src="./unicode_to_hanyu_pinyin.js"></script>
</head>

<body style="text-align:center;">
    <div>
        <textarea id="input" cols="30" rows="10"></textarea>
        <textarea id="output" cols="30" rows="10" readonly="true"></textarea>
    </div>

    <button id="translate">translate</button>
    <script>
        const map = {};
        const japaneseMap = {
            'a': 'あ',
            'yi': 'い',
            'wu': 'う',
            'ai': 'え',
            'ou': 'お',
            'ka': 'か',
            'ku': 'く',
            'kai': 'け',
            'kou': 'こ',
            'ga': 'が',
            'gi': 'ぎ',
            'gu': 'ぐ',
            'gai': 'げ',
            'gou': 'ご',
            'za': 'ざ',
            'ji': 'じ',
            'zu': 'ず',
            'zai': 'ぜ',
            'zou': 'ぞ',
            'da': 'だ',
            'dai': 'で',
            'dou': 'ど',
            'ba': 'ば',
            'bi': 'び',
            'bu': 'ぶ',
            'bai': 'べ',
            'bou': 'ぼ',
            'pa': 'ぱ',
            'pi': 'ぴ',
            'pu': 'ぷ',
            'pai': 'ぺ',
            'pou': 'ぽ',
            'sa': 'さ',
            'xi': 'し',
            'su': 'す',
            'sai': 'せ',
            'sou': 'そ',
            'ta': 'た',
            'qi': 'ち',
            'ci': 'つ',
            'tai': 'て',
            'tou': 'と',
            'na': 'な',
            'ni': 'に',
            'nu': 'ぬ',
            'nai': 'ね',
            'nou': 'の',
            'ha': 'は',
            'hei': 'ひ',
            'hu': 'ふ',
            'hai': 'へ',
            'hou': 'ほ',
            'ma': 'ま',
            'mi': 'み',
            'mu': 'む',
            'mai': 'め',
            'mou': 'も',
            'ya': 'や',
            'you': 'ゆ',
            'you': 'よ',
            'la': 'ら',
            'li': 'り',
            'lu': 'る',
            'lai': 'れ',
            'lou': 'ろ',
            'wa': 'わ',
            'wo': 'を',
            'shuo': 'sure',
            'fen': 'fen',
            'zhao': 'jaw',
            'wei': 'way',
            'gao': 'goal'
        }
        pcode.split('\n').forEach((line) => {
            const [c, p] = line.split(' ')
            map[String.fromCharCode('0x' + c)] = p.match(/[a-z]+/)[0]
        });
        // console.log(map)
        translate.onclick = () => {
            const inputText = input.value;
            output.value = inputText.split("").map((ch) => {
                if (map[ch] && japaneseMap[map[ch]]) {
                    return japaneseMap[map[ch]]
                }
                return ch;
            }).join('')

        };
    </script>
</body>

</html>